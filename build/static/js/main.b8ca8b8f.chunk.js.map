{"version":3,"sources":["components/Navbar.js","components/AlphaCall.js","components/Table.js","components/Stocks.js","App.js","index.js"],"names":["Navbar","AlphaCall","state","cPrice","margin","symbol","this","props","date","buyprice","share","axios","get","then","res","current","data","toFixed","setState","console","log","catch","error","alert","Component","Table","count","handleDelete","event","target","id","delete","post","name","stocks","Object","keys","length","className","map","key","onClick","Stocks","show","showModal","e","innerHTML","hideModal","handleChange","value","postData","preventDefault","x","Date","getDay","setDate","getDate","toISOString","slice","response","document","querySelector","reset","style","display","onSubmit","type","placeholder","onChange","required","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.b8ca8b8f.chunk.js","sourcesContent":["import React from 'react'\nimport './Navbar.css';\n\nfunction Navbar() {\n    return (\n        <nav>\n            <h1>Finance Portfolio Tracker</h1>\n        </nav>\n    )\n}\n\nexport default Navbar;\n","import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass AlphaCall extends Component {\n\n   state = {\n      cPrice: null,\n      margin: null\n   }\n\n   componentDidMount() {\n      // console.log(this.props.symbol + '    ' + this.props.date);\n      var symbol = this.props.symbol;\n      var date = this.props.date;\n\n      var buyprice = this.props.buyprice;\n      var share = this.props.share;\n\n      // {/* profit/loss || (current price â€“ buy price) * no. of shares. */}\n\n      axios.get(`https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=${symbol}&outputsize=compact&apikey=908SPI8GT8SQQPN8`)\n         .then(res => {\n\n            var current = res.data['Time Series (Daily)'][date]['4. close'];\n\n            var margin = ((current - buyprice)*share); // profit and loss logic!\n            margin = +margin.toFixed(2);\n            \n            // console.log(typeof(margin) + 'differencr');\n\n            this.setState({\n               cPrice : current,\n               margin\n            });\n\n            console.log(current + '  ' );\n         }).catch(error => {\n            // console.log(error.response);\n            alert('API CALL ERROR, Please Try with different \"Buy Date\" or Wait for sometime and Try again.');\n        });\n   }\n\n   render() {\n      return (\n         // <div>\n         //    <p>{this.state.cPrice}</p>\n         // </div>\n         <>\n            <td>{this.state.cPrice}</td>\n            <td>{this.state.margin}</td>\n         </>\n      )\n   }\n}\n\nexport default AlphaCall\n\n","import React, { Component } from 'react';\nimport './Table.css';\nimport axios from 'axios';\nimport AlphaCall from './AlphaCall';\n\nclass Table extends Component {\n\n   state = {\n      data: [],\n      count: null\n   }\n\n   componentDidMount() {\n\n      axios.get(`https://fptracker-a11c9.firebaseio.com/active.json`)\n         .then(res => {\n            const stocks = res.data;\n            this.setState({\n               data: stocks\n            });\n         })\n   }\n\n   componentWillUpdate(){\n      // console.log('update triggered');\n\n      axios.get(`https://fptracker-a11c9.firebaseio.com/active.json`)\n         .then(res => {\n            const stocks = res.data;\n\n            var count = 0;\n\n            (stocks != null) && (\n\n            count = Object.keys(stocks).length\n\n            )\n\n            this.setState({\n               data: stocks,\n               count\n            });\n         })\n   } // Live Listener\n\n   handleDelete = (event) => {\n      console.log(event.target.id + ' button');\n      var id = event.target.id;\n\n      axios.delete(`https://fptracker-a11c9.firebaseio.com/active/${id}.json`);\n\n      axios.post('https://fptracker-a11c9.firebaseio.com/allStocks.json', {\n         symbol: this.state.data[id].symbol,\n         name: this.state.data[id].name\n      })\n   }\n\n   render() {\n\n      return (\n\n         <div className=\"MyStocks\" id=\"mystocks\">\n            <h2>My Stocks</h2>\n            <table className=\"MyStocksTable\">\n               <thead>\n                  <tr>\n                     <th>Stock Symbol</th>\n                     <th>Stock Name</th>\n                     <th>No. of shares</th>\n                     <th>Buy price</th>\n                     <th>Current price</th>\n                     <th>Profit/Loss</th>\n                     <th> </th>\n                  </tr>\n               </thead>\n               <tbody>\n\n                  {/* {() => {this.handleGet('MSFT','2020-03-27')}} */}\n\n                  {\n                     (this.state.data == null) ? (<tr><td><h3>NO STOCKS HAVE BEEN SELECTED</h3></td></tr>) : (\n                     Object.keys(this.state.data).map((key) => {\n                        return <tr key={key} id={key}>\n                           <td>{this.state.data[key].symbol}</td>\n                           <td>{this.state.data[key].name}</td>\n                           <td>{this.state.data[key].share}</td>\n                           <td>{this.state.data[key].buyprice}</td>\n                           <AlphaCall\n                              symbol={this.state.data[key].symbol}\n                              date={this.state.data[key].date}\n                              buyprice={this.state.data[key].buyprice}\n                              share={this.state.data[key].share} />\n                           <td>\n                              <button className=\"StopTrackingBtn\" id={key} onClick={this.handleDelete}>Stop Tracking</button>\n                           </td>\n                        </tr>\n                     })\n                     )\n                  }\n\n                  {/* profit/loss || (current price â€“ buy price) * no. of shares. */}\n\n                  {/* push 'buy price' and 'no of shares' to AlphaCall. \n                     Return two 'td's [current price, profit] */}\n\n               </tbody>\n            </table>\n            {\n               (this.state.count > 5) && (<h3>WARNING, Table should contain not more than 5 Stocks!</h3>)\n               \n            }\n         </div>\n      )\n   }\n}\n\nexport default Table;\n","import React, { Component } from 'react'\nimport './Stocks.css'\nimport axios from 'axios';\n\nclass Stocks extends Component {\n\n   state = {\n      data: [],\n      show: false,\n\n      name: '',\n      symbol: '',\n      id: '',\n\n      share: '',\n      buyprice: '',\n      date: ''\n   }\n\n   componentDidMount() {\n\n      axios.get(`https://fptracker-a11c9.firebaseio.com/allStocks.json`)\n         .then(res => {\n            const stocks = res.data;\n            this.setState({\n               data: stocks\n            });\n         })\n   }\n\n   componentWillUpdate() {\n\n      axios.get(`https://fptracker-a11c9.firebaseio.com/allStocks.json`)\n         .then(res => {\n            const stocks = res.data;\n            this.setState({\n               data: stocks\n            });\n         });\n   }\n\n   showModal = (e) => {\n      this.setState({\n\n         name: e.target.name,\n         symbol: e.target.innerHTML,\n         id: e.target.id,\n\n         show: true\n      });\n\n      console.log('show modal called:  ' + e.target.id);\n   }\n\n   hideModal = () => {\n      this.setState({\n         show: false\n      });\n   }\n\n   handleChange = (e) => {\n      this.setState({\n\n         [e.target.name]: e.target.value\n      });\n      // console.log(this.state.date);\n   }\n\n   postData = (e) => {\n\n      e.preventDefault();\n\n      var id = e.target.id;\n      console.log('button is id' + id);\n\n      // Date Validation\n\n      var x = new Date(this.state.date);\n      var date;\n\n      if (x.getDay() === 6) {\n\n         x.setDate(x.getDate() - 1);\n         date = x.toISOString();\n         date = date.slice(0, 10);\n         alert('The date for Saturday change to Friday');\n\n      } else if (x.getDay() === 0) {\n\n         x.setDate(x.getDate() - 2);\n         date = x.toISOString();\n         date = date.slice(0, 10);\n         alert('The date for Sunday change to Friday');\n\n      } else {\n         date = x.toISOString();\n         date = date.slice(0, 10);\n      }\n\n      // End of Data Validation\n\n      axios.post('https://fptracker-a11c9.firebaseio.com/active.json', {\n         symbol: this.state.symbol,\n         name: this.state.name,\n         share: this.state.share,\n         buyprice: this.state.buyprice,\n         date: date\n\n      })\n         .then(function (response) {\n            document.querySelector('form[name=\"formdata\"]').reset();\n\n         })\n         .catch(function (error) {\n            console.log(error);\n         });\n\n      this.setState({\n         show: false\n      });\n\n      axios.delete(`https://fptracker-a11c9.firebaseio.com/allStocks/${id}.json`);\n   }\n\n   render() {\n\n      return (\n         <>\n            <div className=\"AddStocksTitle\" id=\"addstocks\">\n               <h2>Add Stocks to my Stocks</h2>\n\n               {\n                  (this.state.data == null) ? (<h3>ALL STOCKS ADDED</h3>) : (\n                     Object.keys(this.state.data).map((key) => {\n                        return <div key={key}>\n                           <button className=\"StockButton\" id={key} onClick={this.showModal} name={this.state.data[key].name}>{this.state.data[key].symbol}</button>\n                           <span>{this.state.data[key].name}</span>\n                        </div>\n                     })\n                  )\n               }\n\n            </div>\n\n            {/* Fragment 2 */}\n            {/* The Modal */}\n            <div id=\"myModal\" className=\"modal\" style={{\n               display:\n\n                  this.state.show ? 'block' : 'none'\n\n            }}>\n\n               {/* Modal content */}\n               <div className=\"modal-content\">\n                  <span className=\"close\" onClick={this.hideModal}>&times;</span>\n                  <h3>Add {this.state.name} to my Stocks</h3>\n                  {/* <form id=\"formdata\"> */}\n                  <form id={this.state.id} name=\"formdata\" onSubmit={this.postData}>\n                     <div className=\"modal-input\">\n                        <div>\n                           <p>Compnay Name:</p>\n                           <span>{this.state.name}</span>\n                        </div>\n                        <div>\n                           <p>No. of Shares: </p>\n                           <input id=\"noShares\" type=\"number\" placeholder=\"No. of Shares\" name=\"share\" onChange={(e) => { this.handleChange(e) }} required />\n                        </div>\n                        <div>\n                           <p>Buy Price:</p>\n                           <input id=\"buyPrice\" type=\"number\" placeholder=\"Buying Price\" name=\"buyprice\" onChange={(e) => { this.handleChange(e) }} required />\n                        </div>\n                        <div>\n                           <p>Buy Date:</p>\n                           <input id=\"buyDate\" type=\"date\" name=\"date\" onChange={(e) => { this.handleChange(e) }} required />\n                        </div>\n                     </div>\n                     {/* <input type=\"submit\" value=\"ADD\"/> */}\n                     <div className=\"modal-button\">\n                        <div>\n                           {/* <button id={this.state.id} onClick={this.postData}>ADD</button> */}\n                           <button className=\"AddButton\" type=\"submit\">Add</button>\n                        </div>\n                     </div>\n                  </form>\n               </div>\n            </div>\n         </>\n      )\n   }\n}\n\nexport default Stocks;\n","import React, { Component } from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar';\nimport Table from './components/Table';\nimport Stocks from './components/Stocks';\n\nclass App extends Component {\n\n   render() {\n\n      return (\n         <div className='App'>\n            <Navbar />\n            <Table />\n            <Stocks />\n         </div>\n      )\n   }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}