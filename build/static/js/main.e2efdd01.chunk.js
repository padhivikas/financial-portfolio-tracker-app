(this["webpackJsonpfinancial-portfolio-tracker-app"]=this["webpackJsonpfinancial-portfolio-tracker-app"]||[]).push([[0],{18:function(e,t,a){e.exports=a(44)},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(16),c=a.n(r),o=a(3),s=a(4),i=a(5),u=a(6);a(23),a(24);var m=function(){return l.a.createElement("nav",null,l.a.createElement("h1",null,"Finance Portfolio Tracker"))},d=(a(25),a(2)),h=a.n(d),p=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={cPrice:null,margin:null},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.symbol,a=this.props.date,n=this.props.buyprice,l=this.props.share;h.a.get("https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=".concat(t,"&outputsize=compact&apikey=908SPI8GT8SQQPN8")).then((function(t){var r=t.data["Time Series (Daily)"][a]["4. close"],c=(r-n)*l;c=+c.toFixed(2),e.setState({cPrice:r,margin:c}),console.log(r+"  ")})).catch((function(e){alert('API CALL ERROR, Please Try with different "Buy Date" or Wait for sometime and Try again.')}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("td",null,this.state.cPrice),l.a.createElement("td",null,this.state.margin))}}]),a}(n.Component),f=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={data:[],count:null},e.handleDelete=function(t){console.log(t.target.id+" button");var a=t.target.id;h.a.delete("https://fptracker-a11c9.firebaseio.com/active/".concat(a,".json")),h.a.post("https://fptracker-a11c9.firebaseio.com/allStocks.json",{symbol:e.state.data[a].symbol,name:e.state.data[a].name})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("https://fptracker-a11c9.firebaseio.com/active.json").then((function(t){var a=t.data;e.setState({data:a})}))}},{key:"componentWillUpdate",value:function(){var e=this;h.a.get("https://fptracker-a11c9.firebaseio.com/active.json").then((function(t){var a=t.data,n=0;null!=a&&(n=Object.keys(a).length),e.setState({data:a,count:n})}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"MyStocks",id:"mystocks"},l.a.createElement("h2",null,"My Stocks"),l.a.createElement("table",{className:"MyStocksTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Stock Symbol"),l.a.createElement("th",null,"Stock Name"),l.a.createElement("th",null,"No. of shares"),l.a.createElement("th",null,"Buy price"),l.a.createElement("th",null,"Current price"),l.a.createElement("th",null,"Profit/Loss"),l.a.createElement("th",null," "))),l.a.createElement("tbody",null,null==this.state.data?l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("h3",null,"NO STOCKS HAVE BEEN SELECTED"))):Object.keys(this.state.data).map((function(t){return l.a.createElement("tr",{key:t,id:t},l.a.createElement("td",null,e.state.data[t].symbol),l.a.createElement("td",null,e.state.data[t].name),l.a.createElement("td",null,e.state.data[t].share),l.a.createElement("td",null,e.state.data[t].buyprice),l.a.createElement(p,{symbol:e.state.data[t].symbol,date:e.state.data[t].date,buyprice:e.state.data[t].buyprice,share:e.state.data[t].share}),l.a.createElement("td",null,l.a.createElement("button",{className:"StopTrackingBtn",id:t,onClick:e.handleDelete},"Stop Tracking")))})))),this.state.count>5&&l.a.createElement("h3",null,"WARNING, Table should contain not more than 5 Stocks!"))}}]),a}(n.Component),y=a(17),E=(a(43),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={data:[],show:!1,name:"",symbol:"",id:"",share:"",buyprice:"",date:""},e.showModal=function(t){e.setState({name:t.target.name,symbol:t.target.innerHTML,id:t.target.id,show:!0}),console.log("show modal called:  "+t.target.id)},e.hideModal=function(){e.setState({show:!1})},e.handleChange=function(t){e.setState(Object(y.a)({},t.target.name,t.target.value))},e.postData=function(t){t.preventDefault();var a=t.target.id;console.log("button is id"+a);var n,l=new Date(e.state.date);6===l.getDay()?(l.setDate(l.getDate()-1),n=(n=l.toISOString()).slice(0,10),alert("The date for Saturday change to Friday")):0===l.getDay()?(l.setDate(l.getDate()-2),n=(n=l.toISOString()).slice(0,10),alert("The date for Sunday change to Friday")):n=(n=l.toISOString()).slice(0,10),h.a.post("https://fptracker-a11c9.firebaseio.com/active.json",{symbol:e.state.symbol,name:e.state.name,share:e.state.share,buyprice:e.state.buyprice,date:n}).then((function(e){document.querySelector('form[name="formdata"]').reset()})).catch((function(e){console.log(e)})),e.setState({show:!1}),h.a.delete("https://fptracker-a11c9.firebaseio.com/allStocks/".concat(a,".json"))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("https://fptracker-a11c9.firebaseio.com/allStocks.json").then((function(t){var a=t.data;e.setState({data:a})}))}},{key:"componentWillUpdate",value:function(){var e=this;h.a.get("https://fptracker-a11c9.firebaseio.com/allStocks.json").then((function(t){var a=t.data;e.setState({data:a})}))}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"AddStocksTitle",id:"addstocks"},l.a.createElement("h2",null,"Add Stocks to my Stocks"),null==this.state.data?l.a.createElement("h3",null,"ALL STOCKS ADDED"):Object.keys(this.state.data).map((function(t){return l.a.createElement("div",{key:t},l.a.createElement("button",{className:"StockButton",id:t,onClick:e.showModal,name:e.state.data[t].name},e.state.data[t].symbol),l.a.createElement("span",null,e.state.data[t].name))}))),l.a.createElement("div",{id:"myModal",className:"modal",style:{display:this.state.show?"block":"none"}},l.a.createElement("div",{className:"modal-content"},l.a.createElement("span",{className:"close",onClick:this.hideModal},"\xd7"),l.a.createElement("h3",null,"Add ",this.state.name," to my Stocks"),l.a.createElement("form",{id:this.state.id,name:"formdata",onSubmit:this.postData},l.a.createElement("div",{className:"modal-input"},l.a.createElement("div",null,l.a.createElement("p",null,"Compnay Name:"),l.a.createElement("span",null,this.state.name)),l.a.createElement("div",null,l.a.createElement("p",null,"No. of Shares: "),l.a.createElement("input",{id:"noShares",type:"number",placeholder:"No. of Shares",name:"share",onChange:function(t){e.handleChange(t)},required:!0})),l.a.createElement("div",null,l.a.createElement("p",null,"Buy Price:"),l.a.createElement("input",{id:"buyPrice",type:"number",placeholder:"Buying Price",name:"buyprice",onChange:function(t){e.handleChange(t)},required:!0})),l.a.createElement("div",null,l.a.createElement("p",null,"Buy Date:"),l.a.createElement("input",{id:"buyDate",type:"date",name:"date",onChange:function(t){e.handleChange(t)},required:!0}))),l.a.createElement("div",{className:"modal-button"},l.a.createElement("div",null,l.a.createElement("button",{className:"AddButton",type:"submit"},"Add")))))))}}]),a}(n.Component)),b=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(m,null),l.a.createElement(f,null),l.a.createElement(E,null))}}]),a}(n.Component);c.a.render(l.a.createElement(b,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.e2efdd01.chunk.js.map